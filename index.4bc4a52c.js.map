{"mappings":"AAEA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,gBAAiBF,SAASC,cAAc,aAEpCE,EAAmB,ICHV,MAMbC,cACE,MAAMC,EAAM,qEAAiCC,KAAKC,wFAAwFD,KAAKE,OAE/I,OAAOC,MAAMJ,GACVK,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJ,MAAMC,EAASD,EAAKE,KACpB,OAAsB,IAAlBD,EAAOE,OACFC,MAAM,kBAEfX,KAAKY,gBACEJ,EAAM,G,CAInBI,gBACEZ,KAAKE,MAAQ,C,CAGfW,YACEb,KAAKE,KAAO,C,CAGVY,UAAMC,GACRf,KAAKC,YAAcc,C,CA7BrBC,cACEhB,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDEhBV,EAAKC,WAAWwB,iBAAiB,UAEjC,SAAkBC,GAIhB,GAHAA,EAAEC,iBACFtB,EAAiBiB,MAAQI,EAAEE,cAAcC,SAASpB,YAAYqB,MAEzB,KAAjCzB,EAAiBI,YACnB,OAAOU,MAAM,2BAOfd,EAAiBC,cAAcM,MAAKI,KAKtC,SAA4BA,GAC1BhB,EAAKI,gBAAgB2B,mBACnB,YAKJ,SAA4Bf,GAC1B,OAAOA,EACJgB,KACC,EAACC,aACCA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAEO,yDACeN,WAAsBE,yIAGnBC,8GAGAC,iHAGGC,kHAGCC,sFAMhCC,KAAK,G,CAnCNC,CAAmBzB,G,CAPnB0B,CAAmB1B,EAAO,G","sources":["src/index.js","src/js/images-service.js"],"sourcesContent":["import ImagesApiService from './js/images-service';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  imagesContainer: document.querySelector('.gallery'),\n};\nconst imagesApiService = new ImagesApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  imagesApiService.query = e.currentTarget.elements.searchQuery.value;\n\n  if (imagesApiService.searchQuery === '') {\n    return alert('Введи что-то нормальное');\n  }\n\n  fetchImages();\n}\n\nfunction fetchImages() {\n  imagesApiService.fetchImages().then(images => {\n    appendImagesMarkup(images);\n  });\n}\n\nfunction appendImagesMarkup(images) {\n  refs.imagesContainer.insertAdjacentHTML(\n    'beforeend',\n    createImagesMarkup(images)\n  );\n}\n\nfunction createImagesMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<div class=\"photo-card\">\n                  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n                  <div class=\"info\">\n                    <p class=\"info-item\">\n                      <b>Likes ${likes}</b>\n                    </p>\n                    <p class=\"info-item\">\n                      <b>Views ${views}</b>\n                    </p>\n                    <p class=\"info-item\">\n                      <b>Comments ${comments}</b>\n                    </p>\n                    <p class=\"info-item\">\n                      <b>Downloads ${downloads}</b>\n                    </p>\n                  </div>\n                </div>`;\n      }\n    )\n    .join('');\n}\n","const API_KEY = '34213016-753010ce7a0400954b4163a43';\nconst BASE_URL = 'https://pixabay.com/api';\n\nexport default class ImagesApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImages() {\n    const url = `${BASE_URL}/?key=${API_KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n\n    return fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        const images = data.hits;\n        if (images.length === 0) {\n          return alert('Ниче не нашли');\n        }\n        this.incrementPage();\n        return images;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","imagesContainer","$1f0dc3b9307be026$var$imagesApiService","fetchImages","url","this","searchQuery","page","fetch","then","response","json","data","images","hits","length","alert","incrementPage","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value","insertAdjacentHTML","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","$1f0dc3b9307be026$var$createImagesMarkup","$1f0dc3b9307be026$var$appendImagesMarkup"],"version":3,"file":"index.4bc4a52c.js.map"}